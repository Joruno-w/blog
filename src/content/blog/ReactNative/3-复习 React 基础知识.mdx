---
title: 复习 React 基础知识
description: 复习 React 基础知识
pubDate: 2025-10-10
toc: true
ogImage: true
category: React Native
---

_ReactNative_ 的基础是 _React_，因此要想学习 _RN_，首先需要对 _React_ 有所了解。

这里简单复习一下 _React_ 中的几个核心概念：

- _components_ 组件
- _JSX_
- _props_ 属性
- _state_ 状态

## _components_ 组件

在现代前端开发中，离不开组件化开发。将一个页面上的元素拆解成一个个组件，能够极大程度的复用代码。

<img
  src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-03-013840.png"
  alt="image-20220603093839647"
  style="zoom: 25%;"
/>

在现在流行的三大框架中，无论是 _Angular、Vue_ 还是 _React_，都支持组件化开发。其中在 _React_ 中，支持两种书写组件的方式。

### 函数式组件

在函数式组件中，一个函数就是一个组件，在函数中会返回一段 _JSX_。早期的函数式组件又被称之为无状态组件，但是自从 _Hook_ 出来后，函数式组件也能够维持自身的状态。

```js
import React from 'react'
import { Text } from 'react-native'
export default function Cat() {
  return <Text>Hello, I am your cat!</Text>
}
```

### _Class_ 组件

_Class_ 类组件，一个组件就是一个 _Class_ 类，这个类需要继承 _Component_ 类，并且在该类中需要提供一个 _render_ 方法，在 _render_ 方法中返回一段 _JSX_。

早期的 _Class_ 类组件被称之为有状态组件，但是随着 _Hook_ 的推出，函数组件也能维护自身的组件状态，因此现在 _Class_ 类组件相比函数组件使用的频率有所降低，因为相比类，前端开发人员更加熟悉函数，并且避开了烦人的 _this_。

```js
import React, { Component } from 'react'
import { Text } from 'react-native'
export default class Cat extends Component {
  render() {
    return <Text>Hello, I am your cat!</Text>
  }
}
```

## _JSX_

上面提到，无论是函数组件还是 _Class_ 类组件，都需要返回一段 _JSX_。

_JSX_ 是 _React_ 中提供的一种特殊的语法，本质上就是使用 _JS_ 对象来描述 _DOM_ 结构。在 _React_ 中提供了 _React.createElement_ 方法来创建虚拟 _DOM_ 对象，从而对 _DOM_ 结构进行描述。

```js
React.createElement(type, [props], [...children])
```

参数说明：

- _type_：创建的 _React_ 元素类型（可选的值有：标签名字符串、_React_ 组件）。
- _props_（可选）：_React_ 元素的属性。
- _children_（可选）：_React_ 元素的子元素。

例如：

```js
const h1 = React.createElement('h1', null, '欢迎学习 React')
const p = React.createElement(
  'p',
  null,
  '在 React 中推荐使用 JSX 来描述用户界面。'
)
const li1 = React.createElement(
  'li',
  null,
  'JSX 执行更快，因为它在编译为 JavaScript 代码后进行了优化。'
)
const li2 = React.createElement(
  'li',
  null,
  '它是类型安全的，在编译过程中就能发现错误。'
)
const li3 = React.createElement('li', null, '使用 JSX 编写模板更加简单快速。')
const ul = React.createElement('ul', null, li1, li2, li3)
const ele2 = React.createElement('div', null, h1, p, ul)
```

但是显然如果要开发者通过这种方式来描述页面，会分分钟劝退开发者。因此 _JSX_ 应运而生，_JSX_ 本质上就是 _React.createElement_ 方法的一种语法糖，通过 _JSX_，开发者可以通过类似于 _HTML_ 的语法来描述页面。

```js
const ele1 = (
  <div>
    <h1>欢迎学习 React</h1>
    <p>在 React 中推荐使用 JSX 来描述用户界面。</p>
    <ul>
      <li>JSX 执行更快，因为它在编译为 JavaScript 代码后进行了优化。</li>
      <li>它是类型安全的，在编译过程中就能发现错误。</li>
      <li>使用 JSX 编写模板更加简单快速。</li>
    </ul>
  </div>
)
```

_JSX_ 具有如下的特点：

1. 可以在 _JSX_ 中使用 _JavaScript_ 表达式。表达式写在花括号 _{ }_ 中。
2. 在 _JSX_ 中不能使用语句，只能使用表达式。例如不能使用 _if else_ 语句，但可以使用 _conditional_（三元运算）表达式来替代。
3. 如果我们在 _JSX_ 中要给标签设置 _class_，不能够像 _HTML_ 中那样直接书写 _class_，因为 _JSX_ 实际上是 _JS_ 对象，所以 _class_ 需要替换为 _className_。
4. 花括号 _{ }_ 中可以是数组，数组的每一项为一段 _JSX_，之后在渲染的时候会自动展开数组中的每一段 _JSX_。
5. _JSX_ 中如果要书写注释，需要写在 `{/* 注释内容... */}` 中

当然，上面所列举的 _JSX_ 示例是在开发 _PC_ 网页时的例子。在 _RN_ 中使用 _JSX_ 可没有什么 _div、p_ 这些标签，使用的都是 _RN_ 所提供的内置组件。

例如：

```js
import React from 'react'
import { Text } from 'react-native'
export default function Cat() {
  const name = 'Maru'
  return <Text>Hello, I am {name}!</Text>
}
```

## _props_ 属性

_props_ 是组件对外的接口，在组件内部可以通过 _props_ 拿到外部传给组件的参数。

如果是使用的函数的方式来创建的组件，那么使用 _props_ 对象来传递参数显得非常的简单，就像函数传参一样使用即可。

例如：

```js
import React from 'react'
import { Text, View } from 'react-native'
function Cat(props) {
  return (
    <View>
      <Text>Hello, I am {props.name}!</Text>
    </View>
  )
}
export default function Cafe() {
  return (
    <View>
      <Cat name="Maru" />
      <Cat name="Jellylorum" />
      <Cat name="Spot" />
    </View>
  )
}
```

如果是 _Class_ 类组件，则需要在 _constructor_ 中将 _props_ 由 _super_ 函数传递给父组件。然后在 _JSX_ 中通过 _this.props_ 来获取传入的数据。

例如：

```js
class Welcome extends React.Component {
  constructor(props) {
    super(props)
  }
  render() {
    return (
      <View>
        <Text>Hello, I am {props.name}!</Text>
      </View>
    )
  }
}
```

## _state_ 状态

_state_ 为组件自身的数据状态。早期只有 _Class_ 类组件能够维护组件状态，例如：

```js
import React, { Component } from 'react'
import { Button, Text, View } from 'react-native'
export class Cat extends Component {
  // Cat 组件自身的状态
  state = { isHungry: true }
  render(props) {
    return (
      <View>
        <Text>
          I am {this.props.name}, and I am{' '}
          {this.state.isHungry ? ' hungry' : ' full'}!
        </Text>
        <Button
          onPress={() => {
            this.setState({ isHungry: false })
          }}
          disabled={!this.state.isHungry}
          title={
            this.state.isHungry ? 'Pour me some milk, please!' : 'Thank you!'
          }
        />
      </View>
    )
  }
}
export default class Cafe extends Component {
  render() {
    return (
      <>
        <Cat name="Munkustrap" />
        <Cat name="Spot" />
      </>
    )
  }
}
```

后来 _React_ 加入了 _Hook_ 特性后，函数式组件也能够维护一组 _state_ 了。

```js
import React, { useState } from 'react'
import { Button, Text, View } from 'react-native'
function Cat(props) {
  const [isHungry, setIsHungry] = useState(true)
  return (
    <View>
      <Text>
        I am {props.name}, and I am {isHungry ? 'hungry' : 'full'}!
      </Text>
      <Button
        onPress={() => {
          setIsHungry(false)
        }}
        disabled={!isHungry}
        title={isHungry ? 'Pour me some milk, please!' : 'Thank you!'}
      />
    </View>
  )
}
export default function Cafe() {
  return (
    <>
      <Cat name="Munkustrap" />
      <Cat name="Spot" />
    </>
  )
}
```

当然，上面的内容我们只是列举了一些 _React_ 中的核心知识，以助于帮你快速的回顾一下 _React_ 中的重要知识，这并不意味着你不需要掌握 _React_ 相关内容。

如果你对 _React_ 还不了解，建议你先暂停这里的学习，然后先学习了 _React_ 相关知识后在回来继续学习 _RN_。
