---
title: Dva介绍
description: Dva介绍
pubDate: 2025-10-11
toc: true
ogImage: true
category: React
---

# _Dva_ 介绍

_Dva_ 是一个基于 [redux](https://github.com/reduxjs/redux) 和 [redux-saga](https://github.com/redux-saga/redux-saga) 的数据流方案，可以理解为一个轻量级的应用框架。

官网：*https://dvajs.com/*

_Dva_ 的本意，是将基于 _React_ 技术栈中常用到的库集成到一起。当时，_React_ 社区中最流行的应用架构方案如下：

- 路由： [React-Router](https://github.com/ReactTraining/react-router/tree/v2.8.1)
- 状态管理： [Redux](https://github.com/reactjs/redux)
- 异步操作： [Redux-saga](https://github.com/yelouafi/redux-saga)

上面的架构中，除了 _Redux-saga_ 我们没有介绍，前面两个我们都是有所接触的。

而 _Dva_ 则是将上面三个 _React_ 工具库包装在一起，简化了 _API_，让开发 _React_ 应用更加方便和快捷。因此：

> **_Dva = React-Router + Redux + Redux-saga_**

_Redux-saga_ 主要是为了处理数据流中异步操作的问题，虽然我们没有前面没有介绍，但是并不影响我们学习 _Dva_。

_Dva_ 中提供的数据流方案如下图：

数据流图1:

<img
  src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-11-05-082108.png"
  alt="image-20221105162108061"
  style="zoom:50%;"
/>

数据流图2:

<img
  src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-11-05-082152.png"
  alt="image-20221105162152274"
  style="zoom:50%;"
/>

_Dva_ 中的核心概念如下：

- _app.model_
  - _namespace_: 当前 _Model_ 的名称。整个应用的 _State_，由多个小的 _Model_ 的 _State_ 以 _namespace_ 为 _key_ 合成
  - _state_: 该 _Model_ 当前的状态。数据保存在这里，直接决定了视图层的输出
  - _reducers_: _Action_ 处理器，处理同步动作，用来算出最新的 _State_
  - _effects_：_Action_ 处理器，处理异步动作，_Effect_ 是一个 _Generator_ 函数，内部使用 _yield_ 关键字，标识每一步的操作（不管是异步或同步）
    - _dva_ 提供多个 _effect_ 函数内部的处理函数，比较常用的是 `call` 和 `put`
    - _call_：执行异步函数
    - _put_：发出一个 _Action_，类似于 _dispatch_

_Dva_ 练习：学生管理系统

目前，_Dva_ 已经被融入到了 _Umi_ 当中，之后我们在 _Umi_ 中可以以插件的形式开启 _Dva_ 来管理应用的数据流。
