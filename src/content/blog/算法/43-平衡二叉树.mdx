---
title: å¹³è¡¡äºŒå‰æ ‘
description: å¹³è¡¡äºŒå‰æ ‘
pubDate: 2025-10-10
toc: true
ogImage: true
category: ç®—æ³•
---

ä¾‹å¦‚è¿™ä¹ˆä¸€ä¸ªåºåˆ—ï¼š

```js
;[3, 5, 1, 6, 7, 2, 9, 8]
```

æœ€ç»ˆæ„å»ºå‡ºæ¥çš„äºŒå‰æ ‘ä¸ºï¼š

<img
  src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2025-03-03-021834.png"
  alt="image-20250303101833915"
  style="zoom:40%;"
/>

åœ¨ä½¿ç”¨äºŒå‰æœç´¢æ ‘è¿›è¡Œæœç´¢çš„æ—¶å€™ï¼Œæœç´¢çš„æ¬¡æ•°å–å†³äºŒå‰æœç´¢æ ‘çš„å±‚æ•°ã€‚å±‚æ•°è¶Šå°‘ï¼Œé‚£ä¹ˆæœç´¢çš„æ¬¡æ•°è‡ªç„¶å°±è¶Šå°‘ã€‚

ğŸ™‹ä»€ä¹ˆæ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Ÿ

åœ¨æ ‘çš„ä»»ä½•ä¸€ä¸ªç»“ç‚¹å¤„ï¼Œå…¶å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸ºâ€œæ·±åº¦å·®â€ï¼‰ä¸ä¼šè¶…è¿‡ä¸€å®šçš„é™åˆ¶ï¼ˆé€šå¸¸æ˜¯ 1ï¼‰ã€‚è¿™ç§é™åˆ¶ä¿è¯äº†æ ‘çš„æ•´ä½“â€œå¹³è¡¡æ€§â€ï¼Œä»è€Œä½¿å¾—åœ¨æœ€åæƒ…å†µä¸‹è¿›è¡Œæœç´¢ã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œæ—¶ï¼Œéƒ½èƒ½ä¿æŒæ¥è¿‘`O(logâ¡n)` çš„æ—¶é—´å¤æ‚åº¦ã€‚

ä¸‹é¢æ˜¯ä¸€äº›éå¹³è¡¡äºŒå‰æ ‘çš„ç¤ºä¾‹ï¼š

```
A
 \
  B
   \
    C
     \
      D
```

```
    A
   /
  B
 / \
C   D
   /
  E
 /
F
```

```
    A
   / \
  B   C
 / \
D   E
   /
  F
 /
G
```

ä¸‹é¢å°±æ˜¯ä¸€ä¸ªå¹³è¡¡çš„äºŒå‰æ ‘

```
    A
   / \
  B   C
 / \
D   E
```

ğŸ“šä»»åŠ¡ï¼Œå°±æ˜¯ä¹¦å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥åˆ¤æ–­ä¸€é¢—æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚

```js
/**
 * è®¡ç®—ä»¥ node èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„é«˜åº¦
 * åœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­ä¼šåˆ¤æ–­å­æ ‘æ˜¯å¦å¹³è¡¡
 * å¦‚æœå­æ ‘ä¸å¹³è¡¡ï¼Œè¿”å› - 1
 * å¦‚æœå­æ ‘å¹³è¡¡ï¼Œè¿”å›è¯¥å­æ ‘çš„é«˜åº¦
 */
function checkHeight(node) {
  // å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œå­æ ‘é«˜åº¦ä¸º 0
  if (node === null) return 0

  // æ¥ä¸‹æ¥éœ€è¦é€’å½’çš„å»è®¡ç®—å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦
  const leftHeight = checkHeight(node.left)
  // å¦‚æœå·¦å­æ ‘ä¸å¹³è¡¡ï¼Œç›´æ¥è¿”å› -1
  if (leftHeight === -1) return -1

  const rightHeight = checkHeight(node.right)
  // å¦‚æœå³å­æ ‘ä¸å¹³è¡¡ï¼Œç›´æ¥è¿”å› -1
  if (rightHeight === -1) return -1

  // ç°åœ¨å¾—åˆ°äº†å·¦å³å­æ ‘å„è‡ªçš„é«˜åº¦
  // æ¥ä¸‹æ¥è®¡ç®—å·¦å³å­æ ‘é«˜åº¦å·®
  // å¦‚æœå·¦å³å­æ ‘çš„é«˜åº¦å·®å¤§äº 1ï¼Œè¯´æ˜å½“å‰çš„æ ‘ä¸å¹³è¡¡ï¼Œè¿”å› -1
  if (Math.abs(leftHeight - rightHeight) > 1) return -1

  // è¿”å›ä»¥å½“å‰ node èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå­æ ‘çš„é«˜åº¦
  // è¿™é‡Œçœ‹ node èŠ‚ç‚¹çš„å·¦å³å­æ ‘è°æ›´å¤§å°±å–è°çš„å€¼
  return Math.max(leftHeight, rightHeight) + 1
}

function isBalanced(root) {
  return checkHeight(root) !== -1
}
```

åºåˆ—ä¸º `[4, 2, 7, 1, 3, 6, 5]`ï¼Œå½¢æˆçš„äºŒå‰æœç´¢æ ‘ä¸ºï¼š

```
      4
    /   \
   2     7
 /  \    /
1    3  6
       /
      5
```

åºåˆ—ä¸º`[10, 5, 15, 3, 7, 12, 20, 6, 8]` ï¼Œå½¢æˆçš„äºŒå‰æœç´¢æ ‘ä¸ºï¼š

```
    10
   /  \
  5    15
 / \   / \
3   7 12  20
   / \
  6   8
```

---

-EOF-
